{% load floppyforms %}

{% block row %}
  {% for field in fields %}
    <div class="form-group{% if field.errors %} error{% endif %} has-feedback">
        {% with classes=field.css_classes label=label|default:field.label help_text=help_text|default:field.help_text %}
        {% block label %}
          {% if field|id %}
            <label class="control-label" for="{{ field|id }}">
          {% endif %}
          {{ label }} {% if label|last not in ".:!?" %}:{% endif %}
          {% if field|id %}
            </label>
          {% endif %}
        {% endblock %}
        <div class="input-group">
        {% block field %}
                {% block widget %}
                  {% formfield field  %}
                  {% if field.field.required %}
                    <div class="input-group-addon">
                        <i class="glyphicon glyphicon-star"></i>
                    </div>
                  {% endif %}
                {% endblock %}
                {% block errors %}{% include "floppyforms/errors.html" with errors=field.errors %}{% endblock %}
                {% block help_text %}{% if field.help_text %}
                    <span id="helpBlock" class="help-block">{{ field.help_text }}</span>
                {% endif %}{% endblock %}
                {% block hidden_fields %}{% for field in hidden_fields %}{{ field.as_hidden }}{% endfor %}{% endblock %}
        {% endblock %}
        </div>
        {% endwith %}
    </div><!--- .control-group{% if field.errors %}.error{% endif %} -->
  {% endfor %}
{% endblock %}